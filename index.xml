<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>My Blog</title><link>https://wyq977.github.io/</link><description>Recent content on My Blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Wed, 29 Sep 2021 15:45:07 +0200</lastBuildDate><atom:link href="https://wyq977.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>Set up Aria2 and Chrome working nicely together</title><link>https://wyq977.github.io/p/set-up-aria2-and-chrome-working-nicely-together/</link><pubDate>Wed, 29 Sep 2021 15:45:07 +0200</pubDate><guid>https://wyq977.github.io/p/set-up-aria2-and-chrome-working-nicely-together/</guid><description>&lt;h2 id="install">Install&lt;/h2>
&lt;pre tabindex="0">&lt;code>brew install aria2
&lt;/code>&lt;/pre>&lt;ol>
&lt;li>&lt;a class="link" href="https://chrome.google.com/webstore/detail/yaaw-for-chrome/dennnbdlpgjgbcjfgaohdahloollfgoc/related" target="_blank" rel="noopener"
>YAAW, aria2 frontend for chrome&lt;/a>&lt;/li>
&lt;li>Install &lt;a class="link" href="https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo?hl=en" target="_blank" rel="noopener"
>Tampermonkey&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/kkHAIKE/fake115" target="_blank" rel="noopener"
>fake115&lt;/a>, open raw link of this file &lt;a class="link" href="https://github.com/kkHAIKE/fake115/raw/master/fake115d.user.js" target="_blank" rel="noopener"
>fake115d.user.js&lt;/a>, should auto redirect to Tampermonkey&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/acgotaku/115" target="_blank" rel="noopener"
>115&lt;/a>, download release, change &lt;code>crx&lt;/code> to &lt;code>zip&lt;/code>, drag it in &lt;strong>Extensions&lt;/strong> in Chrome&lt;/li>
&lt;/ol>
&lt;h2 id="aria2-config">Aria2 config&lt;/h2>
&lt;p>Help: &lt;a class="link" href="https://developpaper.com/how-to-configure-aria2-to-download-files/" target="_blank" rel="noopener"
>https://developpaper.com/how-to-configure-aria2-to-download-files/&lt;/a>&lt;/p>
&lt;h2 id="yyaw-config">YYAW config&lt;/h2>
&lt;p>Set the RPC like this:&lt;/p>
&lt;pre tabindex="0">&lt;code>http://token:TOKEN@localhost:6800/jsonrpc
&lt;/code>&lt;/pre>&lt;h2 id="run-aria2-in-background-on-startup">Run aria2 in background on startup&lt;/h2>
&lt;p>TBD&lt;/p>
&lt;h2 id="convert-rmvb-to-mp4">Convert rmvb to mp4&lt;/h2>
&lt;p>See: &lt;a class="link" href="https://gist.github.com/jamesmacwhite/58aebfe4a82bb8d645a797a1ba975132" target="_blank" rel="noopener"
>https://gist.github.com/jamesmacwhite/58aebfe4a82bb8d645a797a1ba975132&lt;/a>&lt;/p>
&lt;pre tabindex="0">&lt;code>for f in *.rmvb; do ffmpeg -i &amp;quot;$f&amp;quot; -c:a copy -acodec copy &amp;quot;${f%}.mp4&amp;quot;; done
# use filename only
for f in *.rmvb; do ffmpeg -i &amp;quot;$f&amp;quot; -c:a copy -acodec copy -map_metadata -1 -map 0 &amp;quot;${f%%.rmvb}.mp4&amp;quot;; done
&lt;/code>&lt;/pre>&lt;p>Remove all metadata along the way:&lt;/p>
&lt;pre tabindex="0">&lt;code>ffmpeg -i in.mkv -map_metadata -1 -c copy -map 0 out.mkv
for f in *.mp4; do ffmpeg -i &amp;quot;$f&amp;quot; -map_metadata -1 -c copy -map 0 &amp;quot;${f%}.nometa.mp4&amp;quot;; done # do for loop
&lt;/code>&lt;/pre></description></item><item><title>x11 forwarding on macOS</title><link>https://wyq977.github.io/p/x11-forwarding-on-macos/</link><pubDate>Thu, 31 Dec 2020 11:42:32 +0100</pubDate><guid>https://wyq977.github.io/p/x11-forwarding-on-macos/</guid><description>&lt;h2 id="install-xquartz">Install xQuartz&lt;/h2>
&lt;p>If homebrew installed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">brew install --cask xquartz
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Or install from &lt;a class="link" href="https://www.xquartz.org/" target="_blank" rel="noopener"
>XQuartz website&lt;/a>&lt;/p>
&lt;p>&lt;strong>Restart the machine&lt;/strong>&lt;/p>
&lt;h2 id="enable-iglx">Enable iglx&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="https://scicomp.ethz.ch/wiki/Accessing_the_clusters#Mac_OS_X" target="_blank" rel="noopener"
>Euler X11 macOS&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://scicomp.ethz.ch/wiki/Getting_started_with_clusters#Troubleshooting" target="_blank" rel="noopener"
>Euler X11 macOS troubleshooting&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.visitusers.org/index.php?title=Re-enabling_INdirect_glx_on_your_X_server" target="_blank" rel="noopener"
>extra help link&lt;/a>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">defaults write org.macosforge.xquartz.X11 enable_iglx -bool &lt;span class="nb">true&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>According to this discussion &lt;a class="link" href="https://discussions.apple.com/thread/2048176" target="_blank" rel="noopener"
>here&lt;/a>, but might not be relevant&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># check before writing&lt;/span>
defaults &lt;span class="nb">read&lt;/span> com.apple.x11 nolisten_tcp
defaults &lt;span class="nb">read&lt;/span> org.X.x11 nolisten_tcp
defaults write com.apple.x11 nolisten_tcp -boolean &lt;span class="nb">false&lt;/span>
defaults write org.X.x11 nolisten_tcp -boolean &lt;span class="nb">false&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>To validate:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">printenv DISPLAY
&lt;span class="c1"># /private/tmp/com.apple.launchd.oyK9GxAmbh/org.macosforge.xquartz:0&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ssh-config">SSH config&lt;/h2>
&lt;p>locate your config file, mine is at &lt;code>~/.ssh/config&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">Host euler.ethz.ch
HostName euler.ethz.ch
User USERNAME
ForwardX11Trusted yes
ForwardX11 yes
&lt;span class="c1"># XAuthLocation /opt/X11/bin/xauth # not required&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="connect--debug">Connect &amp;amp; Debug&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">ssh -Y USERNAME@euler.ethz.ch
&lt;span class="c1"># debug&lt;/span>
ssh -v -Y USERNAME@euler.ethz.ch
&lt;span class="c1"># check for &lt;/span>
&lt;span class="c1"># debug1: Requesting X11 forwarding with authentication spoofing.&lt;/span>
&lt;span class="c1"># validate&lt;/span>
printenv DISPLAY
&lt;span class="c1"># localhost:10.0&lt;/span>
display random.png
&lt;span class="c1"># show up in the XQuartz window&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;figure
>
&lt;a href="https://wyq977.github.io/images/x11_foward_macos.png" >
&lt;img src="https://wyq977.github.io/images/x11_foward_macos.png"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="note">Note&lt;/h2>
&lt;p>Noted that this might conflict with some plotting software like R, matplotlib in python,&lt;/p>
&lt;p>If so, one can switch to headless mode and view&lt;/p></description></item><item><title>Sign With GPG</title><link>https://wyq977.github.io/p/sign-with-gpg/</link><pubDate>Thu, 31 Dec 2020 09:41:52 +0100</pubDate><guid>https://wyq977.github.io/p/sign-with-gpg/</guid><description>&lt;h2 id="motivation">Motivation&lt;/h2>
&lt;p>Came across this signing in &lt;a class="link" href="https://github.com/alrra/dotfiles" target="_blank" rel="noopener"
>dotfiles&lt;/a> and I would also want to have the verified in each commit I made in my pc so why not?&lt;/p>
&lt;h2 id="how-to">How-to&lt;/h2>
&lt;ol>
&lt;li>Install &lt;a class="link" href="https://gpgtools.org/" target="_blank" rel="noopener"
>GPG Suite&lt;/a> as it allows storing in macOS keychain, without typing each time
&lt;ul>
&lt;li>&lt;code>brew install --cask gpg-suite&lt;/code>&lt;/li>
&lt;li>Don&amp;rsquo;t install &lt;code>gpg&lt;/code> or &lt;code>pinentry-mac&lt;/code> as it might cause conflict and also can not be stored in keychain&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Create a key either from &lt;a class="link" href="https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/generating-a-new-gpg-key" target="_blank" rel="noopener"
>CLI&lt;/a> or in GPG Keychain app
&lt;ul>
&lt;li>Noted the name and email should be the same as the git configure&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Specify location for git
&lt;ul>
&lt;li>In &lt;code>~/.gitconfig.local&lt;/code>: modify as below&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a class="link" href="https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/adding-a-new-gpg-key-to-your-github-account" target="_blank" rel="noopener"
>Adding a new GPG key to your GitHub account&lt;/a>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="k">[commit]&lt;/span>
&lt;span class="c1"># Sign commits using GPG.&lt;/span>
&lt;span class="c1"># https://help.github.com/articles/signing-commits-using-gpg/&lt;/span>
&lt;span class="na">gpgsign&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">true&lt;/span>
&lt;span class="k">[user]&lt;/span>
&lt;span class="na">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">
&lt;/span>&lt;span class="s"> email =
&lt;/span>&lt;span class="s"> signingkey =
&lt;/span>&lt;span class="s"> # signkey
&lt;/span>&lt;span class="s"> # See https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/telling-git-about-your-signing-key&lt;/span>
&lt;span class="c1"># Tell git about gpg path&lt;/span>
&lt;span class="c1"># https://gist.github.com/danieleggert/b029d44d4a54b328c0bac65d46ba4c65&lt;/span>
&lt;span class="c1"># https://github.com/pstadler/keybase-gpg-github&lt;/span>
&lt;span class="k">[gpg]&lt;/span>
&lt;span class="na">program&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">/usr/local/MacGPG2/bin/gpg2&lt;/span>
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Download qq videos</title><link>https://wyq977.github.io/p/download-qq-videos/</link><pubDate>Fri, 18 Dec 2020 18:29:33 +0100</pubDate><guid>https://wyq977.github.io/p/download-qq-videos/</guid><description>&lt;p>Mostly based on &lt;a class="link" href="https://meta.appinn.net/t/topic/13946" target="_blank" rel="noopener"
>æµæ°´è´¦ï¼šå¦‚ä½•ä½¿ç”¨ annie æ‰¹é‡ä¸‹è½½ä¼˜é…· VIP è§†é¢‘&lt;/a>&lt;/p>
&lt;p>using &lt;a class="link" href="https://github.com/iawia002/annie" target="_blank" rel="noopener"
>annie&lt;/a>, &lt;a class="link" href="https://ffmpeg.org/" target="_blank" rel="noopener"
>ffmpeg&lt;/a>&lt;/p>
&lt;p>Both of them can be installed on macOS via homebrew&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">brew install annie
brew install ffmpeg
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="get-cookies">Get cookies&lt;/h2>
&lt;ul>
&lt;li>In console (Dev. Tools): &lt;code>document.cookie&lt;/code>&lt;/li>
&lt;li>Or you can use EditThisCookie to get cookie of a vip account&lt;/li>
&lt;/ul>
&lt;h2 id="get-url">Get url&lt;/h2>
&lt;p>Copy each episode or follow the guide, grap href using online tools:http://tools.buzzstream.com/link-building-extract-urls&lt;/p>
&lt;p>It might be easier for a few episodes to just copy and paste&lt;/p>
&lt;h2 id="download">Download&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="c1"># check info&lt;/span>
annie -i -f fhd -c qqvip.txt -F s01.csv
&lt;span class="c1"># download fhd if present&lt;/span>
annie -f fhd -c qqvip.txt -F s01.csv
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="extra">Extra&lt;/h2>
&lt;p>Most of the time is from connection and the actual download time is quite fast.&lt;/p></description></item><item><title>Test for blog but no emoji in title :(</title><link>https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/</link><pubDate>Thu, 17 Dec 2020 22:55:41 +0100</pubDate><guid>https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/</guid><description>&lt;img src="https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/helena-hertz-wWZzXlDpMog-unsplash.jpg" alt="Featured image of post Test for blog but no emoji in title :(" />&lt;p>Copied from &lt;a class="link" href="https://github.com/CaiJimmy/hugo-theme-stack/tree/master/exampleSite" target="_blank" rel="noopener"
>example site&lt;/a>&lt;/p>
&lt;h2 id="test-for-a-single-post">Test for a single post&lt;/h2>
&lt;p>created by &lt;code>hugo new post/my-first-post.md&lt;/code>&lt;/p>
&lt;h2 id="test-for-emoji-support-">Test for emoji support ðŸ˜„&lt;/h2>
&lt;p>ðŸ˜„&lt;/p>
&lt;p>Not supported in the title yet so one has to edit the layout on the theme &lt;a class="link" href="https://stackoverflow.com/questions/61753165/emoji-not-displayed-in-deployed-hugo-website-netlify" target="_blank" rel="noopener"
>stackoverflow&lt;/a>, too much trouble&amp;hellip;&lt;/p>
&lt;h2 id="math-is-still-not-perfect">Math is still not perfect&lt;/h2>
&lt;p>$$
f(x) = e^x
$$&lt;/p>
&lt;p>Multiple-line does not render nicely with KaTex now&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-md" data-lang="md">$$
\begin{align}
y &lt;span class="err">&amp;amp;&lt;/span>=&lt;span class="err">&amp;amp;&lt;/span> 1+1 \\\\\\
&lt;span class="err">&amp;amp;&lt;/span>=&lt;span class="err">&amp;amp;&lt;/span> 2
\end{align}
$$
$$
% This works as expected in KaTeX
\begin{aligned}
a &lt;span class="err">&amp;amp;&lt;/span>= 1 \\
b &lt;span class="err">&amp;amp;&lt;/span>= 2
\end{aligned}
$$
&lt;/code>&lt;/pre>&lt;/div>&lt;p>$$
\begin{align}
y &amp;amp;=&amp;amp; 1+1 \\\&lt;br>
&amp;amp;=&amp;amp; 2
\end{align}
$$&lt;/p>
&lt;p>$$
% This works as expected in KaTeX
\begin{aligned}
a &amp;amp;= 1 \&lt;br>
b &amp;amp;= 2
\end{aligned}
$$&lt;/p>
&lt;h2 id="å›¾ç‰‡">å›¾ç‰‡&lt;/h2>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 66;
flex-basis: 160px"
>
&lt;a href="https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/florian-klauer-nptLmg6jqDo-unsplash.jpg" data-size="667x1000">
&lt;img src="https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/florian-klauer-nptLmg6jqDo-unsplash.jpg"
width="667"
height="1000"
srcset="https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/florian-klauer-nptLmg6jqDo-unsplash_hu595aaf3b3dbbb41af5aed8d3958cc9f9_13854_480x0_resize_q75_box.jpg 480w, https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/florian-klauer-nptLmg6jqDo-unsplash_hu595aaf3b3dbbb41af5aed8d3958cc9f9_13854_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="Photo by Florian Klauer on Unsplash">
&lt;/a>
&lt;figcaption>Photo by Florian Klauer on Unsplash&lt;/figcaption>
&lt;/figure> &lt;figure
class="gallery-image"
style="
flex-grow: 149;
flex-basis: 359px"
>
&lt;a href="https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/luca-bravo-alS7ewQ41M8-unsplash.jpg" data-size="1000x667">
&lt;img src="https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/luca-bravo-alS7ewQ41M8-unsplash.jpg"
width="1000"
height="667"
srcset="https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/luca-bravo-alS7ewQ41M8-unsplash_hu0a3f1163de68d0b9471979ebf0ecf11e_32400_480x0_resize_q75_box.jpg 480w, https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/luca-bravo-alS7ewQ41M8-unsplash_hu0a3f1163de68d0b9471979ebf0ecf11e_32400_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="Photo by Luca Bravo on Unsplash">
&lt;/a>
&lt;figcaption>Photo by Luca Bravo on Unsplash&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 133;
flex-basis: 320px"
>
&lt;a href="https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/helena-hertz-wWZzXlDpMog-unsplash.jpg" data-size="1000x750">
&lt;img src="https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/helena-hertz-wWZzXlDpMog-unsplash.jpg"
width="1000"
height="750"
srcset="https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/helena-hertz-wWZzXlDpMog-unsplash_hu45a5e3ad5e058da6a00650ed8fd40bea_15530_480x0_resize_q75_box.jpg 480w, https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/helena-hertz-wWZzXlDpMog-unsplash_hu45a5e3ad5e058da6a00650ed8fd40bea_15530_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="Photo by Helena Hertz on Unsplash">
&lt;/a>
&lt;figcaption>Photo by Helena Hertz on Unsplash&lt;/figcaption>
&lt;/figure> &lt;figure
class="gallery-image"
style="
flex-grow: 66;
flex-basis: 160px"
>
&lt;a href="https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/hudai-gayiran-3Od_VKcDEAA-unsplash.jpg" data-size="667x1000">
&lt;img src="https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/hudai-gayiran-3Od_VKcDEAA-unsplash.jpg"
width="667"
height="1000"
srcset="https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/hudai-gayiran-3Od_VKcDEAA-unsplash_hub241c2a9c7a2caf7e16a2a5bbc7141ff_18711_480x0_resize_q75_box.jpg 480w, https://wyq977.github.io/p/test-for-blog-but-no-emoji-in-title/hudai-gayiran-3Od_VKcDEAA-unsplash_hub241c2a9c7a2caf7e16a2a5bbc7141ff_18711_1024x0_resize_q75_box.jpg 1024w"
loading="lazy"
alt="Photo by Hudai Gayiran on Unsplash">
&lt;/a>
&lt;figcaption>Photo by Hudai Gayiran on Unsplash&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-markdown" data-lang="markdown">![&lt;span class="nt">Photo by Florian Klauer on Unsplash&lt;/span>](&lt;span class="na">florian-klauer-nptLmg6jqDo-unsplash.jpg&lt;/span>) ![&lt;span class="nt">Photo by Luca Bravo on Unsplash&lt;/span>](&lt;span class="na">luca-bravo-alS7ewQ41M8-unsplash.jpg&lt;/span>)
![&lt;span class="nt">Photo by Helena Hertz on Unsplash&lt;/span>](&lt;span class="na">helena-hertz-wWZzXlDpMog-unsplash.jpg&lt;/span>) ![&lt;span class="nt">Photo by Hudai Gayiran on Unsplash&lt;/span>](&lt;span class="na">hudai-gayiran-3Od_VKcDEAA-unsplash.jpg&lt;/span>)
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Hugo ships with several &lt;a class="link" href="https://gohugo.io/content-management/shortcodes/#use-hugo-s-built-in-shortcodes" target="_blank" rel="noopener"
>Built-in Shortcodes&lt;/a> for rich content, along with a &lt;a class="link" href="https://gohugo.io/about/hugo-and-gdpr/" target="_blank" rel="noopener"
>Privacy Config&lt;/a> and a set of Simple Shortcodes that enable static and no-JS versions of various social media embeds.&lt;/p>
&lt;hr>
&lt;h2 id="youtube-privacy-enhanced-shortcode">YouTube Privacy Enhanced Shortcode&lt;/h2>
&lt;div class="video-wrapper">
&lt;iframe loading="lazy"
src="https://www.youtube.com/embed/ZJthWmvUzzc"
allowfullscreen
title="YouTube Video"
>
&lt;/iframe>
&lt;/div>
&lt;br>
&lt;hr>
&lt;h2 id="twitter-simple-shortcode">Twitter Simple Shortcode&lt;/h2>
&lt;blockquote class="twitter-tweet">&lt;p lang="en" dir="ltr">Hugo 0.24 Released: Big archetype update + &lt;a href="https://twitter.com/Netlify?ref_src=twsrc%5Etfw">@Netlify&lt;/a> _redirects etc. file support&lt;a href="https://t.co/X94FmYDEZJ">https://t.co/X94FmYDEZJ&lt;/a> &lt;a href="https://twitter.com/hashtag/gohugo?src=hash&amp;amp;ref_src=twsrc%5Etfw">#gohugo&lt;/a> &lt;a href="https://twitter.com/hashtag/golang?src=hash&amp;amp;ref_src=twsrc%5Etfw">#golang&lt;/a> &lt;a href="https://twitter.com/spf13?ref_src=twsrc%5Etfw">@spf13&lt;/a> &lt;a href="https://twitter.com/bepsays?ref_src=twsrc%5Etfw">@bepsays&lt;/a>&lt;/p>&amp;mdash; GoHugo.io (@GoHugoIO) &lt;a href="https://twitter.com/GoHugoIO/status/877500564405444608?ref_src=twsrc%5Etfw">June 21, 2017&lt;/a>&lt;/blockquote>
&lt;script async src="https://platform.twitter.com/widgets.js" charset="utf-8">&lt;/script>
&lt;br>
&lt;hr>
&lt;h2 id="vimeo-simple-shortcode">Vimeo Simple Shortcode&lt;/h2>
&lt;style>
.__h_video {
position: relative;
padding-bottom: 56.23%;
height: 0;
overflow: hidden;
width: 100%;
background: #000;
}
.__h_video img {
width: 100%;
height: auto;
color: #000;
}
.__h_video .play {
height: 72px;
width: 72px;
left: 50%;
top: 50%;
margin-left: -36px;
margin-top: -36px;
position: absolute;
cursor: pointer;
}
&lt;/style>
&lt;div class="s_video_simple __h_video">
&lt;a href="https://vimeo.com/4.8912912e&amp;#43;07" rel="noopener" target="_blank">
&lt;img src="https://i.vimeocdn.com/video/337401969-979f0cc9f55fdf305fb8984e90d92639ec9d7ecc4c9dfbc6536e28edb43784ce-d_640" srcset="https://i.vimeocdn.com/video/337401969-979f0cc9f55fdf305fb8984e90d92639ec9d7ecc4c9dfbc6536e28edb43784ce-d_640 1x, https://i.vimeocdn.com/video/337401969-979f0cc9f55fdf305fb8984e90d92639ec9d7ecc4c9dfbc6536e28edb43784ce-d_640 2x" alt="Sing Jan Swing - Kinetic Type">
&lt;div class="play">&lt;svg version="1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 61 61">&lt;circle cx="30.5" cy="30.5" r="30.5" opacity=".8" fill="#000">&lt;/circle>&lt;path d="M25.3 19.2c-2.1-1.2-3.8-.2-3.8 2.2v18.1c0 2.4 1.7 3.4 3.8 2.2l16.6-9.1c2.1-1.2 2.1-3.2 0-4.4l-16.6-9z" fill="#fff">&lt;/path>&lt;/svg>&lt;/div>&lt;/a>&lt;/div>
&lt;br>
&lt;div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
&lt;iframe src="https://player.vimeo.com/video/48912912" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen>&lt;/iframe>
&lt;/div>
&lt;h2 id="bilibili-97httpsgithubcomcaijimmyhugo-theme-stackpull97">Bilibili &lt;a class="link" href="https://github.com/CaiJimmy/hugo-theme-stack/pull/97" target="_blank" rel="noopener"
>#97&lt;/a>&lt;/h2>
&lt;div class="video-wrapper">
&lt;iframe src="https://player.bilibili.com/player.html?as_wide=1&amp;amp;high_quality=1&amp;amp;page=1&amp;bvid=BV1wK4y1Y7P4"
scrolling="no"
frameborder="no"
framespacing="0"
allowfullscreen="true"
>
&lt;/iframe>
&lt;/div></description></item><item><title>itx Build</title><link>https://wyq977.github.io/p/itx-build/</link><pubDate>Wed, 18 Dec 2019 18:47:22 +0100</pubDate><guid>https://wyq977.github.io/p/itx-build/</guid><description>&lt;p>See the &lt;a class="link" href="https://pcpartpicker.com/list/tqNNYg" target="_blank" rel="noopener"
>PCPartPicker Part List&lt;/a> for detailed list including the history&lt;/p>
&lt;h2 id="build-2019-03-12">Build (2019-03-12)&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">Type&lt;/th>
&lt;th style="text-align:left">Item&lt;/th>
&lt;th style="text-align:left">Price(CHF)&lt;/th>
&lt;th style="text-align:left">Price (CNY)*&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">&lt;strong>CPU&lt;/strong>&lt;/td>
&lt;td style="text-align:left">&lt;a class="link" href="https://www.digitec.ch/en/s1/product/amd-ryzen-5-2600-am4-340ghz-unlocked-processors-8359328?supplier=406802" target="_blank" rel="noopener"
>AMD Ryzen 5 2600 3.4 GHz 6-Core Processor&lt;/a>&lt;/td>
&lt;td style="text-align:left">187&lt;/td>
&lt;td style="text-align:left">1243.55&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">&lt;strong>CPU Cooler&lt;/strong>&lt;/td>
&lt;td style="text-align:left">&lt;a class="link" href="https://pcpartpicker.com/product/VHtWGX/noctua-nh-l9x65-se-am4-cpu-cooler-nh-l9x65-se-am4" target="_blank" rel="noopener"
>Noctua NH-L9x65 SE-AM4 CPU Cooler&lt;/a>&lt;/td>
&lt;td style="text-align:left">59&lt;/td>
&lt;td style="text-align:left">392.35&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">&lt;strong>Motherboard&lt;/strong>&lt;/td>
&lt;td style="text-align:left">&lt;a class="link" href="https://pcpartpicker.com/product/gBWfrH/msi-b450i-gaming-plus-ac-mini-itx-am4-motherboard-b450i-gaming-plus-ac" target="_blank" rel="noopener"
>MSI B450I GAMING PLUS AC Mini ITX AM4 Motherboard&lt;/a>&lt;/td>
&lt;td style="text-align:left">131&lt;/td>
&lt;td style="text-align:left">871.15&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">&lt;strong>Memory&lt;/strong>&lt;/td>
&lt;td style="text-align:left">&lt;a class="link" href="https://pcpartpicker.com/product/6ntWGX/corsair-vengeance-lpx-16gb-2-x-8gb-ddr4-3000-memory-cmk16gx4m2b3000c15w" target="_blank" rel="noopener"
>Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3000 CL15 Memory&lt;/a>&lt;/td>
&lt;td style="text-align:left">130&lt;/td>
&lt;td style="text-align:left">864.5&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">&lt;strong>Storage&lt;/strong>&lt;/td>
&lt;td style="text-align:left">&lt;a class="link" href="https://pcpartpicker.com/product/Zxw7YJ/samsung-970-evo-plus-1-tb-m2-2280-nvme-solid-state-drive-mz-v7s1t0bam" target="_blank" rel="noopener"
>Samsung 970 Evo Plus 1 TB M.2-2280 NVME Solid State Drive&lt;/a>&lt;/td>
&lt;td style="text-align:left">238.35&lt;/td>
&lt;td style="text-align:left">1585.0275&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">&lt;strong>Video Card&lt;/strong>&lt;/td>
&lt;td style="text-align:left">&lt;a class="link" href="https://pcpartpicker.com/product/TTfmP6/msi-radeon-rx-580-8gb-armor-oc-video-card-rx-580-armor-8g-oc" target="_blank" rel="noopener"
>MSI Radeon RX 580 8 GB ARMOR OC Video Card&lt;/a>&lt;/td>
&lt;td style="text-align:left">216.96&lt;/td>
&lt;td style="text-align:left">1442.784&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">&lt;strong>Case&lt;/strong>&lt;/td>
&lt;td style="text-align:left">&lt;a class="link" href="https://louqe.com/" target="_blank" rel="noopener"
>Louqe GHOST S1 - Pangea&lt;/a>&lt;/td>
&lt;td style="text-align:left">297.85&lt;/td>
&lt;td style="text-align:left">1980.7025&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">&lt;strong>Power Supply&lt;/strong>&lt;/td>
&lt;td style="text-align:left">&lt;a class="link" href="https://www.digitec.ch/en/s1/product/corsair-sf600-600w-power-supply-computer-5802960?ipsrId=153268&amp;amp;shid=177147" target="_blank" rel="noopener"
>Corsair SF 600 W 80+ Gold Certified Fully Modular SFX Power Supply&lt;/a>&lt;/td>
&lt;td style="text-align:left">90.75&lt;/td>
&lt;td style="text-align:left">603.4875&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">&lt;strong>Monitor&lt;/strong>&lt;/td>
&lt;td style="text-align:left">&lt;a class="link" href="https://pcpartpicker.com/product/T8dFf7/dell-monitor-u2515h" target="_blank" rel="noopener"
>Dell U2515H 25.0&amp;quot; 2560x1440 60 Hz Monitor&lt;/a>&lt;/td>
&lt;td style="text-align:left">N/A&lt;/td>
&lt;td style="text-align:left">N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">&lt;strong>Monitor&lt;/strong>&lt;/td>
&lt;td style="text-align:left">&lt;a class="link" href="hhttps://www.digitec.ch/en/s1/product/dell-u2715h-27-2560-x-1440-pixels-monitors-3496235" >Dell U2715H 27.0&amp;quot; 2560x1440 60 Hz Monitor&lt;/a>&lt;/td>
&lt;td style="text-align:left">399&lt;/td>
&lt;td style="text-align:left">2653.35&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">&lt;strong>Total&lt;/strong>&lt;/td>
&lt;td style="text-align:left">&lt;em>CNY are calculated at 2019-03-12&lt;/em>&lt;/td>
&lt;td style="text-align:left">&lt;strong>1749.91&lt;/strong>&lt;/td>
&lt;td style="text-align:left">&lt;strong>11636.9015&lt;/strong>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;sub> Generated by &lt;a class="link" href="https://pcpartpicker.com" target="_blank" rel="noopener"
>PCPartPicker&lt;/a> 2020-12-18 12:49 EST-0500 &lt;/sub>&lt;/p>
&lt;h2 id="update-sell">Update (sell)&lt;/h2>
&lt;ul>
&lt;li>2020-09-29: âœ… &lt;strong>45&lt;/strong> CHF for Corsair PSU on &lt;strong>tutti&lt;/strong>&lt;/li>
&lt;li>2020-09-25: âœ… &lt;strong>210&lt;/strong> CHF for Louqe S1 + custom PSU cable on &lt;strong>tutti&lt;/strong>&lt;/li>
&lt;li>2020-09-01: âœ… &lt;strong>200&lt;/strong> CHF for MSI B450I Gaming Plus AC + Noctua NH-L9x65 SE-AM4 + AMD Ryzen 5 2600 on &lt;strong>tutti&lt;/strong>&lt;/li>
&lt;/ul>
&lt;h2 id="update-buy">Update (buy)&lt;/h2>
&lt;ul>
&lt;li>2020-09-26: âŒ &lt;strong>24.8&lt;/strong> CHF for Microsoft 600 Englishg on &lt;a class="link" href="https://www.digitec.ch/en/s1/product/microsoft-600-eng-int-cable-keyboards-11812564" target="_blank" rel="noopener"
>&lt;strong>digitec&lt;/strong>&lt;/a>&lt;/li>
&lt;li>2020-10-18: âŒ &lt;strong>68&lt;/strong> CHF for MX Master 3 on &lt;a class="link" href="https://www.ricardo.ch/de/a/mx-master-3-ungeoeffnet-1139803814/" target="_blank" rel="noopener"
>&lt;strong>Ricardo&lt;/strong>&lt;/a>&lt;/li>
&lt;li>2020-09-26: âŒ &lt;strong>126&lt;/strong> CHF for Seasonic Focus GX (850W) on &lt;a class="link" href="https://www.digitec.ch/en/s1/product/seasonic-focus-gx-850w-pc-netzteil-12301874" target="_blank" rel="noopener"
>&lt;strong>digitec&lt;/strong>&lt;/a>&lt;/li>
&lt;li>2020-09-23: âŒ &lt;strong>80&lt;/strong> CHF for Phanteks Eclipse P400A (Midi Tower) on &lt;a class="link" href="https://www.digitec.ch/en/s1/product/phanteks-eclipse-p400a-midi-tower-pc-cases-11685782" target="_blank" rel="noopener"
>&lt;strong>digitec&lt;/strong>&lt;/a>&lt;/li>
&lt;li>2020-09-23: âŒ &lt;strong>16&lt;/strong> CHF for GehÃ¤uselÃ¼fter Noctua 120 mm on &lt;a class="link" href="https://www.ricardo.ch/de/a/gehaeuseluefter-noctua-120-mm-1136211306/" target="_blank" rel="noopener"
>&lt;strong>Ricardo&lt;/strong>&lt;/a>&lt;/li>
&lt;li>2020-09-01: âŒ &lt;strong>123&lt;/strong> CHF ASUS ROG Strix H370-I &lt;a class="link" href="https://www.digitec.ch/en/s1/product/asus-rog-strix-h370-f-gaming-lga-1151-intel-h370-atx-motherboards-8281518" target="_blank" rel="noopener"
>&lt;strong>digitec&lt;/strong>&lt;/a>&lt;/li>
&lt;li>2020-09-01: âŒ &lt;strong>61.4&lt;/strong> CHF Intel i3 8100 &lt;a class="link" href="https://www.interdiscount.ch/de/computer-gaming/pc-komponenten/prozessoren--c581000/intel-core-i3-8100-prozessor--p0001407378" target="_blank" rel="noopener"
>&lt;strong>Interdiscount&lt;/strong>&lt;/a>&lt;/li>
&lt;li>2020-07-30: âŒ &lt;strong>52.21&lt;/strong> CHF Glorious PC Gaming Race model D (Cable) &lt;a class="link" href="https://www.digitec.ch/en/s1/product/glorious-pc-gaming-race-model-d-cable-mice-12392165" target="_blank" rel="noopener"
>&lt;strong>digitec&lt;/strong>&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Using ETH Cluster</title><link>https://wyq977.github.io/p/using-eth-cluster/</link><pubDate>Wed, 18 Dec 2019 18:47:22 +0100</pubDate><guid>https://wyq977.github.io/p/using-eth-cluster/</guid><description>&lt;h2 id="1-stay-connected-with-eth-vpn">â€‹1. Stay connected with ETH (VPN)&lt;/h2>
&lt;p>See &lt;a class="link" href="https://ethz.ch/services/en/it-services/catalogue/networks-connections/remote.html" target="_blank" rel="noopener"
>wiki&lt;/a> for detailed info. but the bottom line is that you have to stay connected all the time and this can be troublesome in linux or mobile devices.&lt;/p>
&lt;h2 id="2-login-ssh">â€‹2. Login (SSH)&lt;/h2>
&lt;p>It&amp;rsquo;s easier to use the ssh key for login on laptop or PC at home (&lt;a class="link" href="https://scicomp.ethz.ch/wiki/Accessing_the_clusters#SSH_keys" target="_blank" rel="noopener"
>how&lt;/a>).&lt;/p>
&lt;p>Otherwise, you should be able to login with the ETH passwords.&lt;/p>
&lt;h3 id="21-file-transfer">2.1 File transfer&lt;/h3>
&lt;p>See &lt;a class="link" href="https://www.ssh.com/ssh/sftp/" target="_blank" rel="noopener"
>here&lt;/a> for details but this should do the job for small files.&lt;/p>
&lt;ul>
&lt;li>To copy a file from &lt;code>B&lt;/code>to &lt;code>A&lt;/code> while logged into &lt;code>B&lt;/code>:
&lt;ul>
&lt;li>&lt;code>scp /path/to/file username@a:/path/to/destination&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>To copy a file from &lt;code>B&lt;/code>to &lt;code>A&lt;/code> while logged into &lt;code>A&lt;/code>:
&lt;ul>
&lt;li>&lt;code>scp username@b:/path/to/file /path/to/destination&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>â€‹## 3. Writing code&lt;/p>
&lt;h3 id="31-jupyter-notebook">3.1 jupyter notebook&lt;/h3>
&lt;p>See: &lt;a class="link" href="https://gitlab.ethz.ch/sfux/Jupyter-on-Euler-or-Leonhard-Open" target="_blank" rel="noopener"
>https://gitlab.ethz.ch/sfux/Jupyter-on-Euler-or-Leonhard-Open&lt;/a>&lt;/p>
&lt;p>It&amp;rsquo;s quite time-consuming and clumsy for set up. Not recommended.&lt;/p>
&lt;p>One liner if have cloned the above repo:&lt;/p>
&lt;ul>
&lt;li>Euler
&lt;ul>
&lt;li>&lt;code>./start_jupyter_nb.sh Euler USERNAME 4 04:00 1024&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Leonhard Open
&lt;ul>
&lt;li>&lt;code>./start_jupyter_nb.sh LeoOpen USERNAME 4 04:00 1024&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="32-vs-code-remote-do-not-use">3.2 VS Code Remote (DO NOT USE!!!)&lt;/h3>
&lt;p>Stop using this since it will overload the single node on Euler for some reasons&lt;/p>
&lt;p>See &lt;a class="link" href="https://code.visualstudio.com/docs/remote/ssh" target="_blank" rel="noopener"
>here&lt;/a> for instructions, have to login each time with new folder, download appropriate extensions and set up &lt;code>ENV&lt;/code>variables.&lt;/p>
&lt;p>But this is still the way to go as far as I am concern. Unless the black CLI interface works better for you.&lt;/p>
&lt;h3 id="33-cli">3.3 CLI&lt;/h3>
&lt;p>Good old ways of coding with Vim or nano (installed needed)&lt;/p>
&lt;h2 id="4-batch-system">â€‹4. Batch system&lt;/h2>
&lt;h3 id="41-module-for-environments">4.1 Module for environments&lt;/h3>
&lt;p>&lt;a class="link" href="https://scicomp.ethz.ch/wiki/Getting_started_with_clusters#Module_commands" target="_blank" rel="noopener"
>Details&lt;/a>&lt;/p>
&lt;p>One can also write this in &lt;code>~/.bash_rc&lt;/code> to load the modules needed every-time before login, but not recommended by Euler since the module will affect the batch system when submitting jobs&lt;/p>
&lt;p>Common ones:&lt;/p>
&lt;ul>
&lt;li>list current loaded modules files
&lt;ul>
&lt;li>&lt;code>module list&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>unload &lt;strong>all&lt;/strong>currently loaded modules
&lt;ul>
&lt;li>&lt;code>module purge&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;code>unload&lt;/code>works similarly with &lt;code>load&lt;/code>&lt;/li>
&lt;li>python 3.7.1
&lt;ul>
&lt;li>&lt;code>module load new gcc/4.8.2 python/3.6.1 &lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>python 3.6.1
&lt;ul>
&lt;li>&lt;code>module load new gcc/4.8.2 python/3.6.1 &lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>R 3.6.0
&lt;ul>
&lt;li>&lt;code>module load new gcc/4.8.2 r/3.6.0 &lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Extra info. for python packages&lt;/p>
&lt;p>Packages can be installed in a per-user basis using &lt;code>pip install --user package&lt;/code>&lt;a class="link" href="https://scicomp.ethz.ch/wiki/Python#Installing_a_Python_package.2C_using_PIP" target="_blank" rel="noopener"
>details here&lt;/a>&lt;/p>
&lt;h3 id="42-batch-job-submission">4.2 Batch job submission&lt;/h3>
&lt;p>&lt;strong>Job monitoring (&lt;a class="link" href="https://scicomp.ethz.ch/wiki/FAQ%23Monitoring_jobs" target="_blank" rel="noopener"
>more&lt;/a>)&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Real time output&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">bpeek JOBID
&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">bpeek -J JOBNAME
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>kill a job &lt;code>bkill JOBID&lt;/code>****kill all &lt;code>bkill 0&lt;/code>&lt;/li>
&lt;li>Check all jobs &lt;code>bjobs&lt;/code>(&lt;code>-p&lt;/code>for pending jobs only)&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Job submission(&lt;a class="link" href="https://scicomp.ethz.ch/wiki/FAQ#Submitting_jobs" target="_blank" rel="noopener"
>more&lt;/a>)&lt;/strong>&lt;/p>
&lt;p>After loading modules files, &lt;code>-n&lt;/code>specify number of cores
requested, notify you by e-mail when your job begins and ends using
&lt;code>bsub -B&lt;/code>and &lt;code>bsub -N&lt;/code>respectively&lt;/p>
&lt;p>Example:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">bsub -B -N -n &lt;span class="m">4&lt;/span> -W &lt;span class="m">120&lt;/span> -R &lt;span class="s2">&amp;#34;rusage[mem=2048]&amp;#34;&lt;/span> -o output.txt python main.py
&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">bsub -B -N -n &lt;span class="m">4&lt;/span> -W &lt;span class="m">120&lt;/span> -o output.txt python main.py
&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Taichi installation for Apple Silicon</title><link>https://wyq977.github.io/p/taichi-installation-for-apple-silicon/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://wyq977.github.io/p/taichi-installation-for-apple-silicon/</guid><description>&lt;h2 id="conda-env">conda env&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">conda create -n taichi &lt;span class="nv">python&lt;/span>&lt;span class="o">=&lt;/span>3.8
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="install-dependencies">Install Dependencies&lt;/h2>
&lt;p>See &lt;a class="link" href="https://www.anaconda.com/blog/using-pip-in-a-conda-environment" target="_blank" rel="noopener"
>best practice using pip in a conda&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">conda activate taichi
python3 -m pip install setuptools astor pybind11 pylint &lt;span class="c1"># sourceinspect&lt;/span>
python3 -m pip install pytest pytest-rerunfailures pytest-xdist yapf
python3 -m pip install GitPython coverage colorama &lt;span class="c1"># autograd&lt;/span>
&lt;span class="c1"># install pypi packages with no whl avaiable for Apple Arm64&lt;/span>
python3 -m pip install numpy autograd sourceinspect --compile --pre
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="build-llvm-1000-from-source">Build LLVM 10.0.0 from source&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">wget https://github.com/llvm/llvm-project/releases/download/llvmorg-10.0.0/llvm-10.0.0.src.tar.xz
tar xvJf llvm-10.0.0.src.tar.xz
&lt;span class="nb">cd&lt;/span> llvm-10.0.0.src
mkdir build
&lt;span class="nb">cd&lt;/span> build
&lt;span class="c1"># install to specific location&lt;/span>
&lt;span class="c1"># https://llvm.org/docs/CMake.html&lt;/span>
cmake .. &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> -DLLVM_ENABLE_RTTI:BOOL&lt;span class="o">=&lt;/span>ON &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> -DBUILD_SHARED_LIBS:BOOL&lt;span class="o">=&lt;/span>OFF &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> -DCMAKE_BUILD_TYPE&lt;span class="o">=&lt;/span>Release &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> -DLLVM_TARGETS_TO_BUILD&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;AArch64&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> -DLLVM_ENABLE_ASSERTIONS&lt;span class="o">=&lt;/span>ON &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> -DCMAKE_INSTALL_PREFIX&lt;span class="o">=&lt;/span>/Users/wyq977/projects/llvm-install/10.0.0
make -j &lt;span class="m">8&lt;/span>
make install
&lt;span class="c1"># Check your LLVM installation&lt;/span>
&lt;span class="c1"># You should get 10.0.0&lt;/span>
llvm-config --version
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="build-taichi">Build Taichi&lt;/h2>
&lt;p>Installing collected packages: numpy
WARNING: The scripts f2py, f2py3 and f2py3.8 are installed in &amp;lsquo;/Users/wyq977/.local/bin&amp;rsquo; which is not on PATH.
Consider adding this directory to PATH or, if you prefer to suppress this warning, use &amp;ndash;no-warn-script-location.
Successfully installed numpy-1.20.2&lt;/p>
&lt;p>astor
sourceinspect
pytest-rerunfailures
pytest-xdist
yapf
GitPython
coverage
colorama
autograd&lt;/p>
&lt;p>721 brew install cmake
723 cmake &amp;ndash;version
724 cmake ..
726 cmake ..
746 cmake ..
747 cmake .. -DTI_WITH_CUDA=OFF -DTI_WITH_OPENGL=OFF -DTI_WITH_CC=OFF
763 cd cmake/&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">cmake .. -DTI_WITH_CUDA&lt;span class="o">=&lt;/span>OFF -DTI_WITH_OPENGL&lt;span class="o">=&lt;/span>OFF -DTI_WITH_CC&lt;span class="o">=&lt;/span>OFF -DLLVM_TARGETS_TO_BUILD&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;AArch64&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="llvm-build-from-source">LLVM (build from source)&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">wget https://github.com/llvm/llvm-project/releases/download/llvmorg-10.0.0/llvm-10.0.0.src.tar.xz
tar xvJf llvm-10.0.0.src.tar.xz
&lt;span class="nb">cd&lt;/span> llvm-10.0.0.src
mkdir build
&lt;span class="nb">cd&lt;/span> build
cmake .. -DLLVM_ENABLE_RTTI:BOOL&lt;span class="o">=&lt;/span>ON -DBUILD_SHARED_LIBS:BOOL&lt;span class="o">=&lt;/span>OFF -DCMAKE_BUILD_TYPE&lt;span class="o">=&lt;/span>Release -DLLVM_TARGETS_TO_BUILD&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;AArch64&amp;#34;&lt;/span> -DLLVM_ENABLE_ASSERTIONS&lt;span class="o">=&lt;/span>ON
make -j &lt;span class="m">8&lt;/span>
&lt;span class="c1"># install llvm in custom dir instead of /&lt;/span>
make &lt;span class="nv">DESTDIR&lt;/span>&lt;span class="o">=&lt;/span>~/Downloads/llvm-install/ install
&lt;span class="c1"># add this to bash_profile&lt;/span>
&lt;span class="c1"># export PATH=&amp;#34;/Users/wyq977/Downloads/llvm-install/usr/local/bin:$PATH&amp;#34; &lt;/span>
&lt;span class="c1"># export LLVM_DIR=&amp;#34;/Users/wyq977/Downloads/llvm-install/usr/local/lib/cmake&amp;#34;&lt;/span>
&lt;span class="c1"># Check your LLVM installation&lt;/span>
llvm-config --version &lt;span class="c1"># You should get 10.0.0&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="uninstall">Uninstall&lt;/h2>
&lt;ul>
&lt;li>Make a CMake target: &lt;a class="link" href="https://gitlab.kitware.com/cmake/community/-/wikis/FAQ#can-i-do-make-uninstall-with-cmake" target="_blank" rel="noopener"
>https://gitlab.kitware.com/cmake/community/-/wikis/FAQ#can-i-do-make-uninstall-with-cmake&lt;/a>&lt;/li>
&lt;li>remove all build target:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="nb">cd&lt;/span> build &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> xargs rm &amp;lt; install_manifest.txt
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>Unset all env var&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="nb">unset&lt;/span> TAICHI_REPO_DIR
&lt;span class="nb">unset&lt;/span> LLVM_DIR
&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>